#!/usr/bin/env bash

# don't keep duplicates in history
export HISTCONTROL=erasedups
# store 10k history entries
export HISTSIZE=10000
# append to history instead of overwriting
shopt -s histappend

# set LINES and COLUMNS after every command
shopt -s checkwinsize

# utf-8 everywhere
export LC_ALL=en_US.UTF-8
export LANG=en_US.UTF-8
export LANGUAGE=en_US.UTF-8

DOTFILES=$(realpath ~/dotfiles)
for file in $DOTFILES/{sources,functions}/*; do
    [[ -f $file ]] && source $file
done

path_prefix $DOTFILES/bin

BASHRC_LOCAL=~/.bashrc_local
if [[ -f $BASHRC_LOCAL ]]; then
    source $BASHRC_LOCAL
fi

# >>> conda initialize >>>
# !! Contents within this block are managed by 'conda init' !!
__conda_setup="$('~/.python/bin/conda' 'shell.bash' 'hook' 2> /dev/null)"
if [ $? -eq 0 ]; then
    eval "$__conda_setup"
else
    if [ -f "~/.python/etc/profile.d/conda.sh" ]; then
        . "~/.python/etc/profile.d/conda.sh"
    else
        path_prefix ~/.python/bin
    fi
fi
unset __conda_setup
# <<< conda initialize <<<

path_prefix ~/.rbenv/bin
if exists ruby; then
    eval "$(rbenv init -)"
fi

path_prefix ~/.cargo/bin

